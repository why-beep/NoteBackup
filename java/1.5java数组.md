#### java数组

数组：存放相同数据类型的集合。内存是连续的。不论是在java，还是C中。

1. 数组的创建

三种：

```java
int[] array  = {1,2,3,4};//静态初始化
int[] array1 = new int[]{1,2,3,4};//动态初始化
int[] array2 = new int[4];//创建4个元素的数组，每个元素初始化为0。
```

数组的开辟，无需指定其数组大小，Java能推导出数组大小：通过**属性**访问；（不同于C语言`sizeof(arr)/sizeof(arr[0])`)

```java
int[] array = {1,2,3,4};
int len = array.length;
System.out.println(len);
System.out.println(array.length);
```



> array,array1,array2创建在栈上，--只要是局部变量，都创建在栈上。
>
> 而{1,2,3,4},这些创建在堆上。--

> 数组是引用数据类型，

图1显示数组变量名和开辟元素的空间：

<img src="D:\java学习\image\关于数组的变量存储.png" style="zoom:50%;" />





> array 存储的是在堆上的地址，

> java安全性：不能访问在栈上的地址，能访问到堆上的地址。访问到堆上的地址也是经过哈希处理的。能用，也是唯一的__地址__。

* Java的内存分配空间。

在  JVM  java虚拟机上，分为5部分。

图二：显示JVM内存的分布相关：

###### 数组内元素的打印

3种：

```java
int[] array = {1,2,3,4};
for(int i = 0;i<array.length;i++){
    System.out.println(arrar[i]);
}
//two   -  foreach
for(int x: array){
    System.out.print(x + " ");
}
//three  toString()  - 将数组以字符串的形式输出。
System.out.println(Arrays.toString(array));//Arrays 是一个类。需要引用包。
import java.util.Arrays;
```



4. 数组越界会报异常

Exception : java\.lang\.ArrayIndexOutOfBoundsException



3. 数组进行参数传递

交换两个整数。

原理就是，内存（上面）

```java
public static void Swap(int[] arr){
    int tmp = arr[0];
    arr[0] = arr[1];
    arr[1] = tmp;
}
public static void main(String[] args){
    int[] array = {10,20};
    System.out.println(arr[0]+ " "+arr[1]);
}
```





6. 

java内存

<img src="D:\java学习\image\java的内存.png" style="zoom:67%;" />

<img src="D:\java学习\image\java内存2.png" style="zoom:67%;" />

> native方法，通过C/C++代码实现，速度和快。

7. null



```java
int[] array = null;//array引用的是个空。

System.out.println(array[0]);//会异常。
//NullPointerExceptin
```

> 不同于C中的
> int* pc = NULL;
> 是指向0地址处的指针。

***

对于**空串**和**null**，这是两种东西。



空串是一个Java对象，有自己的长度（0）和内容（空），



8. 参数传内置数据类型-

   --把数组作为参数传递。

内置类型--又叫基本数据类型。

**数组传参传的是一个引用**

```java
  public static void main(String[] args){
        int[] array = {12,45,7,85,56,11};
        System.out.println(Arrays.toString(func(array)));
    }
    public static int[] func(int[] arr){
        int[] tmp = new int[arr.length];
        for(int i = 0;i<arr.length;i++){
            tmp[i] = arr[i] * 2;
        }
        return tmp;//是一个数组。
    }
    
    //返回值设定int[]
```

* 

* 实现Arrays.toString()方法

  用到了字符串的拼接。

```java
//实现toString()
public static String myToString(int[] arr){
    String ret = "[";//是双引号，单引号是char类型。
    for(int i = 0;i<arr.length;i++){
        ret += arr[i];
        if(i != arr.length-1){
            ret += ",";
        }
    }
    ret += "]";
    return ret;
}
public static void main(String[] args) {
    int[] array = {1,66,56,36,33,5};
    System.out.println(myToString(array));
}
```

> 实现String的拼接，不能用 +=，有专门的方法。





###### 数组拷贝

4种方法：for      Aarrays.copyOf(src,newLength)              System.arraycopy(src,src0,dest,dest0,newLength);    数组名.clone()

clone(): 产生了这个对象的一个副本   这个方法是Object()的克隆方法，

Object()：是所有类的父类。是祖先，在javascript中了解过，也是class的父类。

```java
//使用for
public static int[] copyArray(int[] arr){
    int[] tmp = new int[arr.length];
    for(int i = 0;i<arr.length;i++){
        tmp[i] = arr[i];
    }
    return tmp;
}
```

```java
//使用Arrays.copyOf(array,array.length);
public static void main(Sting[] args){
    int[] array = {1,2,3,4};
    System.out.println(Arrays.copyOf(array, array.length - 1));//返回的是地址。
    System.out.println(Arrays.toString(Arrays.copyOf(array, array.length - 1)));  
}
//别忘了引用包。
```

```java
//使用System.arraycopy(src,src0,dest,dest0,newLength);
//arraycopy()是一个方法。
int[] array = {1,2,3,4};
int[] ret = new int[array.length];

System.arraycopy(array,0,ret,0,array.length-1);
System.out.println(Arrays.toString(ret));//  打印   1,2,3,0    //将其置成了零。
//native方法，使用C/C++代码实行，速度快
```



```java
//使用  数组名.clone();
int[] array ={1,2,3,4};
int[] array2 = array.clone();
System.out.println(Arrays.toString(array2));
```



> 打印数组
>
> ```
> System.out.println(Arrays.toString(array));
> ```
>
> 这样才行。



***

数组的浅拷贝和深拷贝

1. 浅拷贝就是：数组array和数组array2，之间的数据不相互影响。存储的是简单数据类型

深拷贝：是两个数组之间，修改一项，另一项也会被修改的。     存放的是引用数据类型。

2. 浅拷贝：是简单类型的，比如：数组拷贝的4个方法，1. for循环，创建一个新的数组，没有通过引用数据，而是创建一个新的数组，

`Arrays.copyOf(src,newLength);`,    `System.arraycopy(src,src0,dest,dest0,newLength);`,      `数组名.clone()`

这些是通过简单类型创建的新的数组。



> 1. 对于数据类型是基本数据类型的成员变量，浅拷贝会直接进行值传递，也就是将该属性复制一份给新的对象。因为是两份不同的数据，所以对其中一的对象的成员变量值进行修改，**不会**影响另一个对象拷贝得到的数据。
> 2. 对于数据类型是引用类型的成员变量，比如说成员变量是某个数组，某个类的对象等，那么浅拷贝会进行引用传递，也就是只是将该成员变量的引用指（内存地址）复制一份给新的对象。因为实际上两个对象的该成员变量都指向同一个实例。在这种情况下，在一个对象中修改该成员变量**会影响**到另一个对象的该成员变量值。
>
> * 浅拷贝：只拷贝对象，不拷贝引用。



<img src="D:\java学习\image\深拷贝.png" style="zoom:50%;" />

* 浅拷贝

<img src="D:\java学习\image\浅拷贝.png" style="zoom:50%;" />

深拷贝：如何实现深拷贝，接口中讲到。





* 顺序查找和二分查找（有序）

返回查找数组元素的下标。



```java
public static int FindEle(int[] arr,int key){
    for(int i = 0;i<arr.length;i++){
        if(arr[i] == key){
            return i;
        }
    }
    return -1;
}
```





```java
//二分查找
//二分查找又叫，折半查找，作用于有序的结构。
//在针对有序数组时，二分查找比顺序查找快，数组内元素越多，速度相差越明显。
public static int binarySearch(int[] arr,int key){
    int l = 0;
    int r = arr.length-1;
    
    while(l<=r){
        int mid = (l + r)>>>1;
        if(arr[mid]>key){
            r = mid-1;
        }else if(arr[mid] < key){
            l = mid -1;
        }else{
            return mid;
        }
    }
    
    return -1;
}
```

```java
 public static int binarySearch(int[] arr,int key){
        int l = 0;
        int r = arr.length-1;
         Arrays.sort(arr);
        while(l<=r){//因为r = arr.length-1,不是arr.length，前者[left,right],后者相当于[left,right),使用<=访问全部元素。不用left++ right--。
//            int middle = (l + r)/2;
            int middle = (l + r)>>>1;//无符号右移一位，相当于除法。
            if(key > arr[middle]){
                l = middle+1;
            }else if(key < arr[middle]){
                r = middle-1;
            }else{
                return middle;
            }
        }
        return -1;
    }
```



> Arrays这个工具类中也提供了二分查找的库方法；
>
> `Arrays.binarySearch(array,key);`



> `public static int count = 0;`//叫做静态类型变量。





###### Arrays工具类当中的常用方法介绍：

顺序按照：jdk文档

binarySearch() \ copyOf() \ copyOfRange() \ equals() \ fill() \ toString() \ sort()

* binarySearch()   ---方法    二分查找

```java
binarySearch(int[] arrays,int key);//也可以查找byte[]\char[]\double[]\float[]\int
//这个方法可以查看，除了boolean之外的7种基本数据类型，还可以查看Object[]
//对于T[]的解释：jdk文档：搜索指定对象的指定数组。
//Object[] 和T[] 类型的没有学到。
binarySearch(int[],int fromIndex,int toIndex,int key);//变形：查看[fromIndex,toIndex);
```



* copyOf()        ---  方法     复制字符串

```java
copyOf(int[],int newLength);//这个把8个基本数据类型，还有Object[]
//
//没有变种
```



* copyOfRange()    ---方法     指定范围复制到新数组中。

```java
public static void main(String[] args) {
        //copyOfRange(int[] arr,int from,int to)
        int[] arr = {1,2,3,4};//4
        int[] ret = new int[arr.length+1];//5
//        System.out.println(Arrays.toString(Arrays.copyOfRange(arr, 0, 4)));//只打印复制的数组
        ret = Arrays.copyOfRange(arr, 0, 9);
        System.out.println(Arrays.toString(ret));//也是没有把下标为4的元素打印出来。
        //明白了左闭右开[,)
        //该方法，会扩大接受的数组内存大小。不会报异常。  to的下标，超出接受数组的内存大小。
        //有好处，填进元素不会报错。
        //原码？？？

    }
```

```java
//可以复制8种基本数据类型，还包括T[]\U[]，不 包括Object[].
```

* equals()          ---比较两个数组是否相等，返回boolean值。

```java
equals(int[] arr,int[] arr2);//返回值，是boolean类型。
//包含8种基本数据类型，还有Object()
```

* fill()    ---方法  填充元素。  返回void

```java
fill(int[] arr,int number);//8种基本数据类型，都可以。
fill(int[] arr,int fromIndex,int toIndex,int number);//变种，左闭右开。
```



* toString()      --方法    返回指定数组的内容的字符串表示。

```java
toString(int[] arr);//8种基本数据类型和Object();
System.out.println(Arrays.toString(array));
```



* sort()               --- 方法    **升序**数组。

```java
sort(int[] arr);//7种基本数据类型，Object[]。boolean[]没有必要排。
sort(int[] arr,int fromIndex,int toIndex);//变种
```





***

###### 冒泡排序

```java
//基本 
public static void efferArray(int[] arr){
     //趟数
      for(int i = 0;i<arr.length-1;i++){//减一
     //每一趟
        for(int j = 0;j<arr.length-i-1;j++){
           if(arr[j]>arr[j+1]){
              int tmp = arr[j];
              arr[j] = arr[j+1];
              arr[j+1] = tmp;
           }
        }
      }
}
```

```java
//对其优化  --每一趟排完后，都要检测是否有序。

```

> 只要没有发生交换的话，就说明已经排序完了。
>
> 画一下图，反过来想，只要发生交换了，就说明没有排序好。





* 逆置

```java
 public static void reverse(int[] arr){
        int left = 0;
        int right = arr.length-1;
        while(left<right){
            int tmp = arr[left];
            arr[left] = arr[right];
            arr[right] = tmp;
            left++;
            right--;
        }
    }
```

> 先置成正序的。



* 偶数排在前面，奇数排在后面

```java
 public static void swap(int[] arr){
        int left= 0;
        int right = arr.length-1;
        while(left<right){
            while(left<right && arr[left]%2==0){
                //遇到偶数不停下。
                left++;
            }
            while(left<right && arr[right]%2 != 0){
                right--;
            }
            if(left<right){
                int tmp =arr[left];
                arr[left] = arr[right];
                arr[right] = tmp;
            }
        }
    }
```





###### 二维数组

* 规则数组

创建3种

```
int[][] array1 = {{1,2,3,4},{5,6,7,8,9}};
int[][] array2 = new int[][]{{1,2,3,4},{5,6,7,8,9}};
int[][] array3 = new int[3][2];
```



java当中有一维数组、二维数组、三维数组、多维数组

二维数组：逻辑二维，物理一维。

* 二维数组的打印方式：

```
int[][] array = {{1,2,3},{4,5,6}};
```



```java
for(int i = 0;i<2;i++){
    for(int j = 0;j<3;j++){
        System.out.println(array[i][j]+" ");
    }
        System.out.println();
}
```



```java
for(int i = 0;i<array.length;i++){
    for(int j = 0;j<array[i].length;j++){
        System.out.println(array[i][j]+" ");
    }
        System.out.println();
}
```

```java
for(int[] tmp: array){
    for(int x: tmp){//直接是tmp
        System.out.println(x +" ");//是x
    }
}
```





> ​        System.out.println(Arrays.toString(array));//不能打印二维数组
>
> ​        System.out.println(Arrays.deepToString(array));//可以打印二维数组。





* 不规则的二维数组

```java
public static void main(String[] args) {
        //二维数组
        int[][] array = new int[2][];//必须指定行。

        array[0] =new int[]{1,2,3};
        array[1] =new int[]{4,5,6};
    }
```

> C语言中，对于二维数组，是必须要指定列的。存储二维数组的结构，表示必须需要指定**列**。
>
> 在java中，行是必须指定的，列不可以自动推导的。

* java中二维数组的内存存储

<img src="D:\java学习\image\java二维数组的内存结构.png" style="zoom:50%;" />





> 数组，好像只能创建7种基本数据类型的结构。
